<div style="background-image: linear-gradient(rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.75)), url(<%= @sport.icon %>); background-position: center center; background-size: cover;">

  <%# Event Section %>
  <div class="container-xxl background-container-show d-flex flex-column">
    <div class="my-auto">
    <%# Sport information%>
      <div class="card-show d-flex flex-row">
        <h2><%= @event.sport.name %></h2>
      </div>
    <%# Event information%>
      <h1> <%= @event.name %></h1>
      <p><%= @event.description%><p>
    </div>
  </div>
</div>

<div class="container-xxl my-4">
    <div>
      <h6>Address</h6>
      <p><%= @event.address %></p>
    </div>
    <div>
      <h6>Date</h6>
      <p><%= @event.date %></p>
    </div>
    <div>
      <h6>Max participants</h6>
      <p><%= @event.participant_number %></p>
    </div>
    <div>
      <h6>Duration</h6>
      <p><%= @event.duration %>h</p>
    </div>
    <div>
      <h6>Level</h6>
      <p><%= @event.level %></p>
    </div>

  <div class="my-4">
    <% if policy(@event).edit? %>
      <%= button_to "Edit this event", edit_event_path(@event), class:"btn btn-dark"  %>
    <% else %>
      <%= button_to 'Join', event_participants_path(@event), method: :post, form: { data: { turbo_confirm: 'Are you sure?' } }, class:"btn btn-dark" %>
      <%= button_to 'Leave', event_participant_path(@event), method: :delete, form: { data: { turbo_confirm: 'Are you sure?' } }, class:"btn btn-dark" %>
    <% end %>
    <p><%= @event.participant_number %> spots left</p>

    <div class="horizontal-spacer"></div>

    <%# Participants Section %>
    <h6>Participants</h6>
    <ul class="list-group">
      <% @event.participants.each do |participant| %>
        <li class="list-group-item"><%= participant.user.first_name%></li>
      <% end %>
    </ul>


    <%# Edit/destroy Event buttons Section %>
    <div class="my-4">
      <% if policy(@event).edit? %>
        <%= link_to "Edit Event", edit_event_path(@event), class: "btn btn-dark" %>
      <% end %>
      <% if policy(@event).destroy? %>
        <%= link_to "Delete Event", event_path(@event), class: "btn btn-outline-dark", data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
      <% end %>
      <%= link_to "Back", events_path, class: "btn btn-outline-dark" %>
    </div>

  </div>

  </div>
    <%# Map Section %>

    <%# Chat Section %>
  <div class="container-xxl my-4">
    <div class="card-show d-flex flex-row">
      <h2><%= @event.name %> chat</h2>
    </div>
  </div>

  <div class="my-4">
    <%= render "shared/chatroom", messages: @messages, chatroom: @chatroom, message: @message %>
  </div>

</div>
